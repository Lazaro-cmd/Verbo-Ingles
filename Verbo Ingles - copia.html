<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Visualizador y Pr√°ctica de Verbos Ingl√©s</title>
  <style>
    :root { --bg: #f4f5fa; --fg: #1a1a1c; }
    @media (prefers-color-scheme: dark) {
      :root { --bg: #181a25; --fg: #f0f0fa; }
    }
    body { font-family: Inter, Arial, sans-serif; background: var(--bg); color: var(--fg); margin:0;}
    #app { max-width:760px; margin:36px auto;}
    .card { border-radius:14px; background: #fff; box-shadow:0 2px 14px #23224515; padding:30px; margin-bottom:18px;}
    @media (prefers-color-scheme: dark) {
      .card { background:#232e41; color:#e7eaea; }
    }
    .controls { display:flex; gap: 10px; flex-wrap:wrap; align-items:center; margin-bottom:18px; }
    .controls input, .controls select { font-size:1em; border-radius:6px; border:1px solid #ccc; padding:7px; }
    .controls button { border-radius:6px; background:#4f8cff; color:#fff; border:none; padding:8px 18px; cursor:pointer;}
    .controls button:disabled { background:#bbb; cursor:auto;}
    .stats { margin:12px 0; color:var(--muted);}
    .practice input { width:110px; font-size:1em; padding:7px; margin:0 6px 8px 0; }
    .practice { margin:16px 0;}
    .practice button { background:#10b981; color:#fff; border:none; border-radius:6px; padding:7px 16px;}
    .audio-btn { background:#22d3ee; color:#fff; border:none; border-radius:5px; margin:2px 8px; padding:5px 10px; cursor:pointer;}
    .filter { margin:10px 0; }
  </style>
</head>
<body>
  <div class="controls" id="controls"></div>
  <div id="app"></div>
  <script>
    // Ejemplo con algunos verbos, ampl√≠a el array seg√∫n tu base:
    const verbs = [
      { infinitive: "arise", past: "arose", participle: "arisen", spanish: "[translate:surgir, levantarse]", type: "irregular", freq: "medio" },
      { infinitive: "accept", past: "accepted", participle: "accepted", spanish: "[translate:aceptar]", type: "regular", freq: "bajo" },
      { infinitive: "begin", past: "began", participle: "begun", spanish: "[translate:empezar]", type: "irregular", freq: "alto" },
      { infinitive: "walk", past: "walked", participle: "walked", spanish: "[translate:caminar]", type:"regular", freq:"alto" }
      // ... a√±ade todos los verbos
    ];

    let idx = 0;
    let correct = 0, tries = 0;

    // Filtrado por tipo o frecuencia
    let filterType = "", filterFreq = "";

    function filteredVerbs() {
      return verbs.filter(v =>
        (filterType === "" || v.type === filterType) &&
        (filterFreq === "" || v.freq === filterFreq)
      );
    }

    function renderControls() {
      document.getElementById('controls').innerHTML = `
        <button onclick="back()" ${idx === 0 ? "disabled":""}>Anterior</button>
        <button onclick="next()" ${idx === filteredVerbs().length-1 ? "disabled":""}>Siguiente</button>
        <input type="search" id="search" placeholder="Buscar..." oninput="buscar(this.value)">
        <label>Tipo:
          <select onchange="setType(this.value)">
            <option value="">Todos</option>
            <option value="regular">Regulares</option>
            <option value="irregular">Irregulares</option>
          </select>
        </label>
        <label>Frecuencia:
          <select onchange="setFreq(this.value)">
            <option value="">Todas</option>
            <option value="alto">Alta</option>
            <option value="medio">Media</option>
            <option value="bajo">Baja</option>
          </select>
        </label>
        <span>${idx+1} de ${filteredVerbs().length} verbos</span>
        <span style="margin-left:18px;font-size:0.9em;color:#7fb;">‚úîÔ∏è Aciertos: ${correct} / üîÑ Intentos: ${tries}</span>
      `;
    }
    window.setType = function(type){ filterType=type; idx=0; renderControls(); renderCard(); };
    window.setFreq = function(freq){ filterFreq=freq; idx=0; renderControls(); renderCard(); };

    // Audio (demo: solo pronunciaci√≥n con SpeechSynthesis)
    function playAudio(text) {
      if (!text) return;
      const u = new SpeechSynthesisUtterance(text);
      u.lang = "en-US";
      window.speechSynthesis.speak(u);
    }

    function renderCard() {
      const arr = filteredVerbs();
      const v = arr[idx];
      document.getElementById('app').innerHTML = `
        <div class="card">
          <h2>${v.infinitive}</h2>
          <p>
            <button class="audio-btn" onclick="playAudio('${v.infinitive}')">üîä Infinitivo</button>
            <button class="audio-btn" onclick="playAudio('${v.past}')">üîä Pasado</button>
            <button class="audio-btn" onclick="playAudio('${v.participle}')">üîä Participio</button>
          </p>
          <p><b>Pasado:</b> ${v.past}</p>
          <p><b>Participio:</b> ${v.participle}</p>
          <p><b>Espa√±ol:</b> ${v.spanish}</p>
          <div class="stats">Verbo ${idx+1} de ${arr.length} ¬∑ Tipo: ${v.type} ¬∑ Frecuencia: ${v.freq||"-"}</div>
          
          <div class="practice">
            <label for="inPast">Pr√°ctica - escribe el pasado:</label>
            <input id="inPast" placeholder="Past" autocomplete="off">
            <label for="inPart">Participio:</label>
            <input id="inPart" placeholder="Participle" autocomplete="off">
            <button onclick="checkPractice()">Comprobar</button>
            <div id="feedback"></div>
          </div>
        </div>
      `;
    }

    window.next = function() {
      if(idx < filteredVerbs().length-1) ++idx;
      renderControls(); renderCard();
    }
    window.back = function() {
      if(idx > 0) --idx;
      renderControls(); renderCard();
    }
    window.buscar = function(q) {
      const arr = filteredVerbs();
      const term = q.trim().toLowerCase();
      if (!term) { idx = 0; renderControls(); renderCard(); return; }
      const i = arr.findIndex(v =>
        v.infinitive.toLowerCase().includes(term) ||
        v.past.toLowerCase().includes(term) ||
        v.participle.toLowerCase().includes(term) ||
        v.spanish.toLowerCase().includes(term)
      );
      idx = i>=0 ? i : 0;
      renderControls(); renderCard();
    };

    window.checkPractice = function() {
      tries++;
      const arr = filteredVerbs();
      const v = arr[idx];
      const p = document.getElementById("inPast").value.trim().toLowerCase();
      const part = document.getElementById("inPart").value.trim().toLowerCase();
      let ok = (p === v.past.toLowerCase().split(" / ")[0]) && (part === v.participle.toLowerCase().split(" / ")[0]);
      correct += ok ? 1 : 0;
      document.getElementById("feedback").innerHTML = ok ? "<span style='color:green'>‚úîÔ∏è Correcto</span>" : "<span style='color:red'>‚ùå Intenta otra vez</span>";
      renderControls();
    };

    renderControls(); renderCard();
  </script>
</body>
</html>


